## 初识D3 ##
一直以为D3这个吹上天的库是跟echart highcharts一样做图表的，几个小伙伴推荐我都没有去看，直到看到某大厂招可视化leader要求精通d3，起初非常纳闷一个做图表的插件谈何精通不精通，耐着性子读了点demo才发现，这玩意真的牛逼。
### 概括 ###
d3是基于svg的一款图形化的库，当然也为canvas提供了少许友好的接口，使用方法与jquery非常相似，都是链式调用，而且是操作真实dom，没有用ast语法树生成vnode，这与react，vue等框架是不同的的。

看到这里大家都会想，一个操作类xml格式元素的库，能有什么亮点呢。d3的牛逼之处在于，它建立了一整套数据到svg各种蛋疼属性的计算框架，常用的数据可视化模型都可以在 d3.layout里面找到。它为程序员提供了一整套从建模到计算的工具包，这简直是js伪工程师的福音，毕竟广大前端能说出double与float区别的都很少。。。

## api整理 ##

1.选择
这一部分跟jquery操作dom元素的思想与写法基本一致，区别在于d3可以虚拟选中不存在的dom元素，并且将dom集合与数据绑定，enter exit update 这三大函数返回数据与dom集合的交、差集合。

2.过渡

d3为dom元素的移动提供了很多延迟、周期、过渡方式等api，让图表动起来，这一部分跟jquery中的动画方法也非常相似。

3.数组
d3提供了很多操作计算数组的api

4.请求
不管是d3这种2d，还是three这种3d的数据可视化库，数据的来源很少有在前端动态计算出来的，都是从后台请求到的数据文件在前端解析加载，所以d3提供了很多请求文件的接口，例如d3.csv, d3.json等。

5.颜色
d3提供了生成不同格式颜色对象的几种接口，并且这些对象提供了操作颜色亮度的接口

6.比例尺
我们做图表，肯定会生成横纵坐标轴，但是真是数据的大小并不一定适合我们屏幕的分辨率大小，所以d3提供了数值比例尺（线性、对数、指数）,序数比例尺（离散数据的映射工具），生成的比例尺对象也提供了相关方法对当前比例尺进行操作。

7.轴
axis是d3提供的坐标轴组件，与比例尺生成的数据集成。

8.刷子
图表上的拖拽工具

9.svg图形
d3提供了arc、area等图形，允许开发者定制布局

10.布局

echart、highchart图形构建流程 数据——绘图函数——图表

d3图形构建流程 数据——布局——获得绘图所需数据——在svg画布上添加相应图形——图表

从上面的构建流程看一看出，d3的布局其实是数据转换的接口，将不适合绘图的数据，转换成适合绘图的数据。布局提供了常用的转换模型（饼状、力导向、树状等，很多布局要结合d3提供的svg图形来实现，图形会将转换后的数据再次转换成路径。


